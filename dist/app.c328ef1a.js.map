{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","push","i","id","title","comments_count","innerHTML","join","newsDetail","location","hash","substr","newsContent","replace","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAlB;AACA,IAAMC,IAAI,GAAG,IAAIC,cAAJ,EAAb;AACA,IAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAhB;AACA,IAAMC,QAAQ,GAAG,sCAAjB;AACA,IAAMC,WAAW,GAAG,wCAApB;AACA,IAAMC,KAAK,GAAG;EACVC,WAAW,EAAG;AADJ,CAAd;;AAIA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;EAClBT,IAAI,CAACU,IAAL,CAAU,KAAV,EAAiBD,GAAjB,EAAsB,KAAtB;EACAT,IAAI,CAACW,IAAL;EAEA,OAAOC,IAAI,CAACC,KAAL,CAAWb,IAAI,CAACc,QAAhB,CAAP;AACH;;AAED,SAASC,QAAT,GAAoB;EAChB,IAAMA,QAAQ,GAAGP,OAAO,CAACJ,QAAD,CAAxB;EACA,IAAMY,QAAQ,GAAG,EAAjB;EAEJA,QAAQ,CAACC,IAAT,CAAc,MAAd;;EAEA,KAAI,IAAIC,CAAC,GAAG,CAACZ,KAAK,CAACC,WAAN,GAAmB,CAApB,IAAyB,EAArC,EAAyCW,CAAC,GAAGZ,KAAK,CAACC,WAAN,GAAmB,EAAhE,EAAoEW,CAAC,EAArE,EAAwE;IACpEF,QAAQ,CAACC,IAAT,wDAE0BF,QAAQ,CAACG,CAAD,CAAR,CAAYC,EAFtC,8BAGUJ,QAAQ,CAACG,CAAD,CAAR,CAAYE,KAHtB,eAGgCL,QAAQ,CAACG,CAAD,CAAR,CAAYG,cAH5C;EAOH;;EAEDL,QAAQ,CAACC,IAAT,CAAc,OAAd;EACAD,QAAQ,CAACC,IAAT,iDAE0BX,KAAK,CAACC,WAAN,GAAoB,CAApB,GAAwBD,KAAK,CAACC,WAAN,GAAmB,CAA3C,GAA+C,CAFzE,8EAG0BD,KAAK,CAACC,WAAN,GAAmB,CAH7C;EAOAV,SAAS,CAACyB,SAAV,GAAsBN,QAAQ,CAACO,IAAT,CAAc,EAAd,CAAtB;AACC;;AAED,SAASC,UAAT,GAAsB;EACtB,IAAML,EAAE,GAAGM,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAArB,CAAX;EACA,IAAMC,WAAW,GAAGpB,OAAO,CAACH,WAAW,CAACwB,OAAZ,CAAoB,KAApB,EAA2BV,EAA3B,CAAD,CAA3B;EAEItB,SAAS,CAACyB,SAAV,2BACUM,WAAW,CAACR,KADtB,kEAI0Bd,KAAK,CAACC,WAJhC;AAOH;;AAED,SAASuB,MAAT,GAAkB;EACd,IAAMC,SAAS,GAAGN,QAAQ,CAACC,IAA3B;;EAEA,IAAIK,SAAS,KAAK,EAAlB,EAAsB;IAClBhB,QAAQ;EACX,CAFD,MAEO,IAAIgB,SAAS,CAACC,OAAV,CAAkB,SAAlB,KAAgC,CAApC,EAAsC;IACzC1B,KAAK,CAACC,WAAN,GAAoB0B,MAAM,CAACF,SAAS,CAACJ,MAAV,CAAiB,CAAjB,CAAD,CAA1B;IACAZ,QAAQ;EACX,CAHM,MAGA;IACHS,UAAU;EACb;AACJ;;AAEDU,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAqCL,MAArC;AAEAA,MAAM","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container = document.getElementById('root');\nconst ajax = new XMLHttpRequest();\nconst content = document.createElement('div');\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\nconst store = {\n    currentPage:  1,\n};\n\nfunction getData(url) {\n    ajax.open('GET', url, false);\n    ajax.send();\n\n    return JSON.parse(ajax.response);\n}\n\nfunction newsFeed() {\n    const newsFeed = getData(NEWS_URL);\n    const newsList = [];\n\nnewsList.push('<ul>');\n\nfor(let i = (store.currentPage -1) * 10; i < store.currentPage *10; i++){  \n    newsList.push(`\n        <li>\n            <a href=\"#/show/${newsFeed[i].id}\">\n            ${newsFeed[i].title} (${newsFeed[i].comments_count})\n            </a>\n        </li>\n    `)\n}\n\nnewsList.push('</ul>');\nnewsList.push(`\n    <div>\n        <a href=\"#/page/${store.currentPage > 1 ? store.currentPage -1 : 1}\">이전 페이지</a>\n        <a href=\"#/page/${store.currentPage +1}\">다음 페이지</a>\n    </div>\n`);\n\ncontainer.innerHTML = newsList.join('');\n}\n\nfunction newsDetail() {\nconst id = location.hash.substr(7);\nconst newsContent = getData(CONTENT_URL.replace('@id', id))\n\n    container.innerHTML = `\n        <h1>${newsContent.title}</h1>\n\n        <div>\n            <a href=\"#/page/${store.currentPage}\">목록으로</a>\n        </div>\n        `\n}\n\nfunction router() {\n    const routePath = location.hash;\n\n    if (routePath === '') {\n        newsFeed();\n    } else if (routePath.indexOf('#/page/') >= 0){\n        store.currentPage = Number(routePath.substr(7));\n        newsFeed();  \n    } else {\n        newsDetail(); \n    }\n}\n\nwindow.addEventListener('hashchange',router);\n\nrouter();"]}